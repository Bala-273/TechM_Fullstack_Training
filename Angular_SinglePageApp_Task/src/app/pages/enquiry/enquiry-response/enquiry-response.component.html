<div class="container mt-5">
    <div class="response-form-container shadow-lg p-4">
        <h3 class="text-center mb-3">Respond to Enquiries</h3>
        <form [formGroup]="enquiryForm" (ngSubmit)="onSubmit()">
            <!-- Enquiry ID Dropdown -->
            <div class="form-group">
                <label for="messageId" class="form-label"><strong>Enquiry ID:</strong></label>
                <select id="messageId" class="form-select" formControlName="messageId" (change)="onIdChange($event)">
                    <option value="" disabled selected>-- Select Enquiry ID --</option>
                    <option *ngFor="let id of ids" [value]="id">{{ id }}</option>
                </select>
            </div>

            <!-- Auto-filled Email -->
            <div class="form-group">
                <label for="email" class="form-label"><strong>Email:</strong></label>
                <input type="email" id="email" class="form-control" formControlName="email" [disabled]="true" />
            </div>

            <!-- Subject Field -->
            <div class="form-group">
                <label for="subject" class="form-label"><strong>Subject:</strong></label>
                <input type="text" id="subject" class="form-control" formControlName="subject" />
                <div *ngIf="enquiryForm.get('subject')?.invalid && enquiryForm.get('subject')?.touched" class="text-danger">
                    Subject is required.
                </div>
            </div>

            <!-- Message Field -->
            <div class="form-group">
                <label for="message" class="form-label"><strong>Message:</strong></label>
                <textarea id="message" class="form-control" formControlName="message" rows="4"></textarea>
                <div *ngIf="enquiryForm.get('message')?.invalid && enquiryForm.get('message')?.touched" class="text-danger">
                    Message is required.
                </div>
            </div>

            <!-- Estimated Price -->
            <div class="form-group">
                <label for="estimatedPrice" class="form-label"><strong>Estimated Price:</strong></label>
                <input type="number" id="estimatedPrice" class="form-control" formControlName="estimatedPrice" />
                <div *ngIf="enquiryForm.get('estimatedPrice')?.invalid && enquiryForm.get('estimatedPrice')?.touched" class="text-danger">
                    Price is required and must be positive.
                </div>
            </div>

            <!-- Duration -->
            <div class="form-group">
                <label for="duration" class="form-label"><strong>Duration:</strong></label>
                <input type="text" id="duration" class="form-control" formControlName="duration" />
                <div *ngIf="enquiryForm.get('duration')?.invalid && enquiryForm.get('duration')?.touched" class="text-danger">
                    Duration is required.
                </div>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary w-100 mt-3" [disabled]="enquiryForm.invalid">Submit</button>
        </form>
    </div>
</div>
